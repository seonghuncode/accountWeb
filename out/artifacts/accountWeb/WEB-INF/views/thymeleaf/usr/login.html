<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <!-- tailwind 사용 -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- 부트스트랩 적용 -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css"
          rel="stylesheet" integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD"
          crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="/resources/static/css/login.css">
    <title>로그인 페이지</title>
</head>
<body>

<!--<form method="post" action="../usr/loginFn">-->
<!--<form id="form">-->

<div class="flex justify-center h-screen w-1/3 flex-col m-0 m-auto"> <!-- 로그인 창 화면 중앙 우치 -->
    <div class="border-solid border border-black"> <!-- 로그인창 테두리 검정 -->
        <div class="text-center m-7 "> <!-- 로그인 메인 문구 위치, 마진값 -->
            <div class="text-lg font-bold">지출관리 웹</div>
            <div class="text-2xl font-bold">로그인</div>
        </div>
        <div class="text-center mx-3 mt-14 "> <!-- input box정중앙 위치, 좌우 마진, 위쪽 마진 -->
            <p><input type="text" name="loginId" id="loginId" placeholder="아이디" class="login_input m-2"/></p>
            <p><input type="password" name="loginPw" id="loginPw" placeholder="비밀번호" class="login_input m-2"></p>
        </div>
        <div class="text-center login_function"> <!-- id,pw찾지 / 회원가입 기능 -->
            <div>
                <a href="#" class="mx-3">아이디찾기</a>
                <span>|</span>
                <a href="#" class="mx-3">비밀번호찾기</a>
                <span>|</span>
                <a href="#" class="mx-3">회원가입</a>
            </div>
        </div>
        <div class="text-center">
            <button type="submit" class="btn btn-outline-primary login_btn" id="tt" >로그인</button>
        </div>
        <div class="text-center my-9">
            <span class="login_copy">&copy;seonghun.</span>
        </div>
    </div>
</div>

<!--</form>-->

<!-- JQuery를 통한 ajax방식-->
<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
<script type="text/javascript">
    $("#tt").click(function() {
        //alert("click");

        var info = {
            loginId : $("#loginId").val(),
            loginPw : $("#loginPw").val()
        };
        console.log(info);
        $.ajax({
            url : "/usr/loginFn",
            data : info,
            type : "post",
            dataType : "text",
            async : true,  //비동기
            success : function(response) {
                alert("success");
                console.log(response)


                
                let f = document.createElement('form');
                f.setAttribute('method', 'post');
                f.setAttribute('action', '/usr/loginFn');
                document.body.appendChild(f);
                f.submit();


            },
            error : function() {
                alert("error")
            }
        });
    });
</script>



<!--<script>-->
<!--    $(function(){-->
<!--        $('#tt').on("click",function () {-->

<!--            var form1 = $("#form").serialize();-->
<!--            console.log("ajax부분")-->
<!--            console.log(form1);-->

<!--            var info = {"loginId" : loginId, "loginPw" : loginPw};-->

<!--            $.ajax({-->
<!--                type: 'post',-->
<!--                url: "http://localhost:8080/usr/loginFn",-->
<!--                data: info,-->
<!--                // dataType: 'json',-->
<!--                dataType: "html",-->
<!--                success: function (data) {-->
<!--                    alert("success");-->
<!--                    console.log(data);-->
<!--                     // location.href = "/usr/loginFn";-->
<!--                    location.replace("/usr/loginFn");-->
<!--                    // window.location.href = "/usr/loginFn";-->
<!--                },-->
<!--                error: function (request, status, error) {-->
<!--                    console.log("전송에 문제가 있습니다. 값을 입력해 주세요.")-->
<!--                    console.log("code:"+request.status+"\n"+"message:"+request.responseText+"\n"+"error:"+error);-->

<!--                }-->
<!--            });-->
<!--        });-->
<!--    });-->
<!--</script>-->










</body>
</html>
<!-- 정가운데 위치 시키기-->
<!--display: flex;  세로로 있는것을 모두 한줄로 만든다.-->
<!--justify-content: center;  모든 데이터가 가로 기준 중앙으로 오도록 한다.-->
<!--height: 100vh; 세로 중앙으로 하기 위해 사용해야 한다?-->
<!--width: 80%; //100%를 주게 되면 양쪽 끝에 다 붙는다-->
<!--flex-direction: column;   세로기준 중앙으로 오도록 한다.-->
<!--margin: 0px auto; //사용하지 않으면 80% 비중으로 줄고 왼쪼겡 바로 붙는다,  정가운데로 보내기 위함-->